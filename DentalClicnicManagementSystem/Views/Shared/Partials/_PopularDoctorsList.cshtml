@* @model IEnumerable<CMS.ViewModels.PopularDoctorViewModel>

<div class="row row-gap-3">
    @if (Model != null && Model.Any())
    {
        @foreach (var item in Model)
        {
            <div class="col-md-4">
                <div class="border shadow-sm p-3 rounded-2">
                    <div class="d-flex align-items-center mb-3">
                        <a href="#" class="avatar me-2 flex-shrink-0 position-relative">
                            <span class="online text-success position-absolute end-0 bottom-0 pe-1"><i class="ti ti-circle-filled d-flex bg-white fs-6 rounded-circle border border-1 border-white"></i></span>
                            <img src="~/@(item.Doctor?.ProfileImageUrl ?? "assets/img/doctors/doctor-01.jpg")" alt="img" class="rounded-circle">
                        </a>
                        <div>
                            <h6 class="fs-14 mb-1 text-truncate"><a href="#" class="fw-semibold">@item.Doctor?.FullName</a></h6>

                            <!-- THE FIX: Added text-truncate class to the specialization -->
                            <p class="mb-0 fs-13 text-truncate">@item.Doctor?.Specialty</p>
                        </div>
                    </div>
                    <p class="mb-0"><span class="text-dark fw-semibold">@item.BookingCount</span> Bookings</p>
                </div>
            </div>
        }
    }
    else
    {
        <div class="col-12 text-center">
            <p class="text-muted">No doctor data available for this period.</p>
        </div>
    }
</div> *@
@model IEnumerable<CMS.ViewModels.PopularDoctorViewModel>

<div class="row row-gap-3">
    @if (Model != null && Model.Any())
    {
        @foreach (var item in Model)
        {
            <div class="col-md-4">
                <div class="border shadow-sm p-3 rounded-2">
                    <div class="d-flex align-items-center mb-3">
                        <a href="#" class="avatar me-2 flex-shrink-0 position-relative">
                            <span class="online text-success position-absolute end-0 bottom-0 pe-1"><i class="ti ti-circle-filled d-flex bg-white fs-6 rounded-circle border border-1 border-white"></i></span>
                            <img src="~/@(item.Doctor?.ProfileImageUrl ?? "assets/img/doctors/doctor-01.jpg")" alt="img" class="rounded-circle">
                        </a>
                        <div>
                            <h6 class="fs-14 mb-1 text-truncate"><a href="#" class="fw-semibold">@item.Doctor?.FullName</a></h6>

                            <!-- LE CORRECTIF : Ajout de la classe text-truncate à la spécialisation -->
                            <p class="mb-0 fs-13 text-truncate">@item.Doctor?.Specialty</p>
                        </div>
                    </div>
                    <p class="mb-0"><span class="text-dark fw-semibold">@item.BookingCount</span> Réservations</p>
                </div>
            </div>
        }
    }
    else
    {
        <div class="col-12 text-center">
            <p class="text-muted">Aucune donnée de médecin disponible pour cette période.</p>
        </div>
    }
</div>
